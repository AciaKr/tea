"use strict";(self.webpackChunkspa_tea=self.webpackChunkspa_tea||[]).push([[13],{3013:(T,a,o)=>{o.r(a),o.d(a,{OrderModule:()=>$});var m=o(177),r=o(4341),d=o(3824),u=o(8699),c=o(5085);function p(t,n){1&t&&(u.j41(0,"h1",4),u.EFF(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.k0s())}function f(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0438\u043c\u044f "),u.k0s())}function v(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.k0s())}function h(t,n){if(1&t&&(u.j41(0,"div",31),u.DNE(1,f,2,0,"div",32),u.DNE(2,v,2,0,"div",32),u.k0s()),2&t){const e=u.XpG(2);u.R7$(1),u.Y8G("ngIf",null==e._userName||null==e._userName.errors?null:e._userName.errors.required),u.R7$(1),u.Y8G("ngIf",null==e._userName||null==e._userName.errors?null:e._userName.errors.pattern)}}function E(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f "),u.k0s())}function N(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.k0s())}function F(t,n){if(1&t&&(u.j41(0,"div",31),u.DNE(1,E,2,0,"div",32),u.DNE(2,N,2,0,"div",32),u.k0s()),2&t){const e=u.XpG(2);u.R7$(1),u.Y8G("ngIf",null==e._lastName||null==e._lastName.errors?null:e._lastName.errors.required),u.R7$(1),u.Y8G("ngIf",null==e._lastName||null==e._lastName.errors?null:e._lastName.errors.pattern)}}function g(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d "),u.k0s())}function b(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 11 \u0446\u0438\u0444\u0440 "),u.k0s())}function y(t,n){if(1&t&&(u.j41(0,"div",31),u.DNE(1,g,2,0,"div",32),u.DNE(2,b,2,0,"div",32),u.k0s()),2&t){const e=u.XpG(2);u.R7$(1),u.Y8G("ngIf",null==e._phone||null==e._phone.errors?null:e._phone.errors.required),u.R7$(1),u.Y8G("ngIf",null==e._phone||null==e._phone.errors?null:e._phone.errors.pattern)}}function C(t,n){1&t&&(u.j41(0,"div",31),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0430 "),u.k0s())}function k(t,n){1&t&&(u.j41(0,"div",31),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043d\u0434\u0435\u043a\u0441 "),u.k0s())}function x(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u043e\u0447\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 "),u.k0s())}function D(t,n){1&t&&(u.j41(0,"div"),u.EFF(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, - \u0438 / "),u.k0s())}function O(t,n){if(1&t&&(u.j41(0,"div",31),u.DNE(1,x,2,0,"div",32),u.DNE(2,D,2,0,"div",32),u.k0s()),2&t){const e=u.XpG(2);u.R7$(1),u.Y8G("ngIf",null==e._address||null==e._address.errors?null:e._address.errors.required),u.R7$(1),u.Y8G("ngIf",null==e._address||null==e._address.errors?null:e._address.errors.pattern)}}function j(t,n){1&t&&(u.j41(0,"div",33),u.EFF(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.k0s())}const s=function(t){return{"border-danger":t}};function A(t,n){if(1&t){const e=u.RV6();u.j41(0,"form",5),u.bIt("ngSubmit",function(){u.eBV(e);const i=u.XpG();return u.Njj(i.submit())}),u.j41(1,"div",6)(2,"label",7),u.EFF(3,"\u0422\u043e\u0432\u0430\u0440"),u.k0s(),u.nrm(4,"input",8),u.k0s(),u.j41(5,"div",9)(6,"label",10),u.EFF(7,"\u0418\u043c\u044f*"),u.k0s(),u.nrm(8,"input",11),u.DNE(9,h,3,2,"div",12),u.k0s(),u.j41(10,"div",9)(11,"label",13),u.EFF(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*"),u.k0s(),u.nrm(13,"input",14),u.DNE(14,F,3,2,"div",12),u.k0s(),u.j41(15,"div",9)(16,"label",15),u.EFF(17,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d*"),u.k0s(),u.nrm(18,"input",16),u.DNE(19,y,3,2,"div",12),u.k0s(),u.j41(20,"div",17)(21,"div",18)(22,"label",19),u.EFF(23,"\u0421\u0442\u0440\u0430\u043d\u0430*"),u.k0s(),u.nrm(24,"input",20),u.DNE(25,C,2,0,"div",12),u.k0s(),u.j41(26,"div",18)(27,"label",21),u.EFF(28,"\u0418\u043d\u0434\u0435\u043a\u0441*"),u.k0s(),u.nrm(29,"input",22),u.DNE(30,k,2,0,"div",12),u.k0s(),u.j41(31,"div",23)(32,"label",24),u.EFF(33,"\u0410\u0434\u0440\u0435\u0441*"),u.k0s(),u.nrm(34,"input",25),u.DNE(35,O,3,2,"div",12),u.k0s()(),u.j41(36,"div",6)(37,"label",26),u.EFF(38,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.k0s(),u.nrm(39,"textarea",27),u.k0s(),u.j41(40,"div",28),u.EFF(41," * \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e "),u.k0s(),u.j41(42,"div",23),u.DNE(43,j,2,0,"div",29),u.j41(44,"button",30),u.EFF(45),u.k0s()()()}if(2&t){const e=u.XpG();u.Y8G("formGroup",e.formOrder),u.R7$(8),u.HbH(u.eq3(22,s,(null==e._userName?null:e._userName.invalid)&&((null==e._userName?null:e._userName.touched)||(null==e._userName?null:e._userName.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._userName?null:e._userName.invalid)&&((null==e._userName?null:e._userName.touched)||(null==e._userName?null:e._userName.dirty))),u.R7$(4),u.HbH(u.eq3(24,s,(null==e._lastName?null:e._lastName.invalid)&&((null==e._lastName?null:e._lastName.touched)||(null==e._lastName?null:e._lastName.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._lastName?null:e._lastName.invalid)&&((null==e._lastName?null:e._lastName.touched)||(null==e._lastName?null:e._lastName.dirty))),u.R7$(4),u.HbH(u.eq3(26,s,(null==e._phone?null:e._phone.invalid)&&((null==e._phone?null:e._phone.touched)||(null==e._phone?null:e._phone.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._phone?null:e._phone.invalid)&&((null==e._phone?null:e._phone.touched)||(null==e._phone?null:e._phone.dirty))),u.R7$(5),u.HbH(u.eq3(28,s,(null==e._country?null:e._country.invalid)&&((null==e._country?null:e._country.touched)||(null==e._country?null:e._country.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._country?null:e._country.invalid)&&((null==e._country?null:e._country.touched)||(null==e._country?null:e._country.dirty))),u.R7$(4),u.HbH(u.eq3(30,s,(null==e._zip?null:e._zip.invalid)&&((null==e._zip?null:e._zip.touched)||(null==e._zip?null:e._zip.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._zip?null:e._zip.invalid)&&((null==e._zip?null:e._zip.touched)||(null==e._zip?null:e._zip.dirty))),u.R7$(4),u.HbH(u.eq3(32,s,(null==e._address?null:e._address.invalid)&&((null==e._address?null:e._address.touched)||(null==e._address?null:e._address.dirty)))),u.R7$(1),u.Y8G("ngIf",(null==e._address?null:e._address.invalid)&&((null==e._address?null:e._address.touched)||(null==e._address?null:e._address.dirty))),u.R7$(8),u.Y8G("ngIf",e.isErrorResponse),u.R7$(1),u.Y8G("disabled",!e.formOrder.valid||e.isSubmitting),u.R7$(1),u.SpI(" ",e.isSubmitting?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"," ")}}function R(t,n){1&t&&(u.j41(0,"h1",34),u.EFF(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.k0s())}const B=[{path:"",component:(()=>{class t{constructor(e,l,i,I){this.formBuilder=e,this.productService=l,this.activatedRoute=i,this.router=I,this.product="",this.isActiveForm=!0,this.isErrorResponse=!1,this.isSubmitting=!1}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.product=e.product||"",this.formOrder=this.formBuilder.group({product:[{value:this.product,disabled:!0}],userName:["",[r.k0.required,r.k0.pattern(/^[\u0410-\u042fA-z\u0430-\u044fa-z]+$/)]],lastName:["",[r.k0.required,r.k0.pattern(/^[\u0410-\u042fA-z\u0430-\u044fa-z]+$/)]],phone:["",[r.k0.required,r.k0.pattern(/^[+]?[0-9]{11}$/)]],addressDetails:this.formBuilder.group({country:["",[r.k0.required]],zip:["",[r.k0.required]],address:["",[r.k0.required,r.k0.pattern(/^[\u0410-\u042fA-z\u0430-\u044fa-z0-9\-\/\s]+$/)]]}),comment:[""]})})}get _userName(){return this.formOrder.get("userName")}get _lastName(){return this.formOrder.get("lastName")}get _phone(){return this.formOrder.get("phone")}get _country(){return this.formOrder.get("addressDetails")?.get("country")}get _zip(){return this.formOrder.get("addressDetails")?.get("zip")}get _address(){return this.formOrder.get("addressDetails")?.get("address")}get _comment(){return this.formOrder.get("comment")}submit(){this.formOrder.invalid?this.formOrder.markAllAsTouched():(this.isSubmitting=!0,this.productService.createOrder({name:this._userName?.value,last_name:this._lastName?.value,phone:this._phone?.value,country:this._country?.value,zip:this._zip?.value,product:this.product,address:this._address?.value,comment:this._comment?.value}).subscribe({next:e=>{e.success&&!e.message?(this.isActiveForm=!1,setTimeout(()=>{this.isActiveForm=!0,this.router.navigate(["/"])},3e3)):this.showTemporaryError()},error:()=>{this.showTemporaryError()},complete:()=>{this.isSubmitting=!1}}))}showTemporaryError(){this.isErrorResponse=!0,setTimeout(()=>{this.isErrorResponse=!1},3e3)}static{this.\u0275fac=function(l){return new(l||t)(u.rXU(r.ok),u.rXU(c.b),u.rXU(d.nX),u.rXU(d.Ix))}}static{this.\u0275cmp=u.VBU({type:t,selectors:[["order-component"]],decls:4,vars:3,consts:[[1,"order","py-4","mx-1","wow","animate__bounceInUp"],["class","title text-center fw-bold mb-5",4,"ngIf"],["class","order__form row g-4 mx-auto","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","title text-center fw-bold text-primary",4,"ngIf"],[1,"title","text-center","fw-bold","mb-5"],["novalidate","",1,"order__form","row","g-4","mx-auto",3,"formGroup","ngSubmit"],[1,"col-md-12"],["for","inputProduct",1,"form-label","text-black"],["type","text","name","product","id","inputProduct","formControlName","product","readonly","",1,"form-control","rounded-1"],[1,"col-md-4"],["for","inputUserName",1,"form-label","text-black"],["type","text","name","name","id","inputUserName","formControlName","userName",1,"form-control","rounded-1"],["class","small text-danger",4,"ngIf"],["for","inputLastName",1,"form-label","text-black"],["type","text","name","lastName","id","inputLastName","formControlName","lastName",1,"form-control","rounded-1"],["for","inputPhone",1,"form-label","text-black"],["type","text","name","phone","id","inputPhone","formControlName","phone",1,"form-control","rounded-1"],["formGroupName","addressDetails",1,"col-md-12","row","px-0","mt-0","g-4","mx-auto"],[1,"col-md-6"],["for","inputCountry",1,"form-label","text-black"],["type","text","name","country","id","inputCountry","formControlName","country",1,"form-control","rounded-1"],["for","inputZip",1,"form-label","text-black"],["type","text","name","zip","id","inputZip","formControlName","zip",1,"form-control","rounded-1"],[1,"col-12"],["for","inputAddress",1,"form-label","text-black"],["type","text","name","address","id","inputAddress","formControlName","address",1,"form-control","rounded-1"],["for","inputComment",1,"form-label","text-black"],["name","comment","id","inputComment","formControlName","comment",1,"form-control","rounded-1"],[1,"col-md-12","small"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-156","rounded-1","hvr-grow",3,"disabled"],[1,"small","text-danger"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"title","text-center","fw-bold","text-primary"]],template:function(l,i){1&l&&(u.j41(0,"section",0),u.DNE(1,p,2,0,"h1",1),u.DNE(2,A,46,34,"form",2),u.DNE(3,R,2,0,"h1",3),u.k0s()),2&l&&(u.R7$(1),u.Y8G("ngIf",i.isActiveForm),u.R7$(1),u.Y8G("ngIf",i.isActiveForm),u.R7$(1),u.Y8G("ngIf",!i.isActiveForm))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R]})}}return t})()}];let _=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=u.$C({type:t})}static{this.\u0275inj=u.G2t({imports:[d.iI.forChild(B),d.iI]})}}return t})();var G=o(3887);let $=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=u.$C({type:t})}static{this.\u0275inj=u.G2t({imports:[m.MD,r.X1,r.YN,G.G,_,_]})}}return t})()}}]);